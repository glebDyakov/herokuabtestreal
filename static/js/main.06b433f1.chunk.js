(this.webpackJsonpabtestreal=this.webpackJsonpabtestreal||[]).push([[0],{14:function(t,e,n){},16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var s=n(2),r=n.n(s),a=n(5),o=n.n(a),c=(n(14),n(1)),i=n.n(c),l=n(3),u=n(6),d=n(7),h=n(9),b=n(8),j=(n.p,n(16),n(0)),f=function(t){Object(h.a)(n,t);var e=Object(b.a)(n);function n(t){var s;return Object(u.a)(this,n),(s=e.call(this,t)).state={allUsers:[],userID:"",userDateRegistration:"",userDateLastActivity:"",retentionDay:5,resultOfRetentionDay:0},s.componentWillMount=function(){var t=Object(l.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:4000/",{mode:"cors",method:"GET"}).then((function(t){return t.body})).then((function(t){var e=t.getReader();return new ReadableStream({start:function(t){!function n(){e.read().then((function(e){var s=e.done,r=e.value;if(s)return console.log("done",s),void t.close();t.enqueue(r),console.log(s,r),n()}))}()}})})).then((function(t){return new Response(t,{headers:{"Content-Type":"text/html"}}).text()})).then((function(t){console.log(t),s.setState({allUsers:JSON.parse(t)}),console.log("allUsers",s.state.allUsers),console.log("allUsers Legnth",s.state.allUsers.length)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.calculateRollingRetentionXDay=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:4000/calculateretentionxday?retentionday=".concat(s.state.retentionDay),{mode:"cors",method:"GET"}).then((function(t){return t.body})).then((function(t){var e=t.getReader();return new ReadableStream({start:function(t){!function n(){e.read().then((function(e){var s=e.done,r=e.value;if(s)return console.log("done",s),void t.close();t.enqueue(r),console.log(s,r),n()}))}()}})})).then((function(t){return new Response(t,{headers:{"Content-Type":"text/html"}}).text()})).then((function(t){console.log(t),s.setState({resultOfRetentionDay:JSON.parse(t).result})}));case 2:case"end":return t.stop()}}),t)}))),s.saveUsers=Object(l.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("save users!!!"),t.next=3,fetch("http://localhost:4000/users/add?userid=".concat(s.state.userID,"&userdateregistration=").concat(s.state.userDateRegistration,"&userdatelastactivity=").concat(s.state.userDateLastActivity),{mode:"cors",method:"GET"}).then((function(t){return t.body})).then((function(t){var e=t.getReader();return new ReadableStream({start:function(t){!function n(){e.read().then((function(e){var s=e.done,r=e.value;if(s)return console.log("done",s),void t.close();t.enqueue(r),console.log(s,r),n()}))}()}})})).then((function(t){return new Response(t,{headers:{"Content-Type":"text/html"}}).text()})).then((function(t){window.location.reload()}));case 3:case"end":return t.stop()}}),t)}))),s.setRetentionDay=function(t){s.setState({retentionDay:t.target.value})},s.setUserID=function(t){s.setState({userID:t.target.value}),console.log(t),console.log(s.state)},s.setUserDateRegistration=function(t){s.setState({userDateRegistration:t.target.value}),console.log(s.state)},s.setUserDateLastActivity=function(t){s.setState({userDateLastActivity:t.target.value}),console.log(s.state)},s.state={allUsers:[],userID:"",userDateRegistration:"",userDateLastActivity:"",retentionDay:5,resultOfRetentionDay:0},s}return Object(d.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("table",{border:"1",children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{width:"300",children:"UserID"}),Object(j.jsx)("td",{width:"300",children:"Date Registration"}),Object(j.jsx)("td",{width:"300",children:"Date Last Activity"})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("input",{onChange:this.setUserID,type:"text",id:"",class:"userpassword form-control",placeholder:"UserID",required:""})}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{onChange:this.setUserDateRegistration,type:"text",id:"",class:"userpassword form-control",placeholder:"UserDateRegistration",required:""})}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{onChange:this.setUserDateLastActivity,type:"text",id:"",class:"form-control",placeholder:"UserDateLastActivity",required:""})})]})]}),Object(j.jsx)("div",{children:this.state.allUsers.length<=0?Object(j.jsx)("p",{children:"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}):this.state.allUsers.map((function(t){return Object(j.jsx)("table",{border:"1",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{width:"300",children:t.userid}),Object(j.jsx)("td",{width:"300",children:t.dateregistration}),Object(j.jsx)("td",{width:"300",children:t.datelastactivity})]})},t.userid)}))}),Object(j.jsx)("button",{class:"btn btn-lg btn-primary btn-block",onClick:this.saveUsers,children:"Save"}),Object(j.jsx)("br",{}),Object(j.jsx)("label",{class:"sr-only",children:"retentionDay"}),Object(j.jsx)("input",{onChange:this.setRetentionDay,value:this.state.retentionDay,type:"text",id:"",class:"userpassword form-control",placeholder:"retentionDay",required:""}),Object(j.jsx)("button",{class:"btn btn-lg btn-primary btn-block",onClick:this.calculateRollingRetentionXDay,children:"Calculate"}),Object(j.jsxs)("p",{children:["\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 retentionDay = ",this.state.resultOfRetentionDay]})]})}}]),n}(r.a.Component),p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,s=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),s(t),r(t),a(t),o(t)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root")),p()}},[[18,1,2]]]);
//# sourceMappingURL=main.06b433f1.chunk.js.map